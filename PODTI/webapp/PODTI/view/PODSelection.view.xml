<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:t="sap.ui.table" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" 
xmlns:html="http://www.w3.org/1101010/xhtml" controllerName="kpmg.custom.pod.PODTI.PODTI.controller.PODSelection" width="100%" height="100%">   
    <Page title="{i18n>podSelection.title}" class="kpmgGDPage" showHeader="false" enableScrolling="false">
        <content>
            <VBox width="100%" height="100%" renderType="Bare">
                <!--Filtri prima riga-->
                <HBox width="100%" height="12%" class="headerContainer" renderType="Bare">
                    <VBox width="20%" height="100%" renderType="Bare" class="filterBox" >
                        <Label text="{i18n>podSelection.label.workcenter}:" width="100%" textAlign="Left" vAlign="Middle" class="kpmgGDSmallLabel requiredLabel paddingLeft" />
                        <ComboBox id="workcenterComboBoxId" width="100%" class="GDComboBoxField" items="{FilterModel>/WorkCenters}" showSecondaryValues="true" required="true">
                            <core:ListItem key="{FilterModel>workCenter}" text="{FilterModel>description}" additionalText="{FilterModel>workCenter}" />
                        </ComboBox>                                   
                    </VBox>
                    <VBox width="20%" height="100%" renderType="Bare" class="filterBox" >
                        <Label text="{i18n>podSelection.label.project}:" width="100%" textAlign="Left" vAlign="Middle" class="kpmgGDSmallLabel paddingLeft" />
                        <Input id="projectInputId" placeholder="Enter Project" showSuggestion="true" showValueHelp="false" suggestionItems="{FilterModel>/Project}"  class="GDInputField">
                            <suggestionItems>
                                <core:Item text="{FilterModel>DATA_FIELD_VALUE}" />
                            </suggestionItems>
                        </Input>                
                    </VBox>
                    <VBox width="20%" height="100%" renderType="Bare" class="filterBox" >
                        <Label text="{i18n>podSelection.label.customer}:" width="100%" textAlign="Left" vAlign="Middle" class="kpmgGDSmallLabel paddingLeft" />
                        <Input id="customerInputId" placeholder="Enter Customer" showSuggestion="true" showValueHelp="false" suggestionItems="{FilterModel>/Customer}"  class="GDInputField">
                            <suggestionItems>
                                <core:Item text="{FilterModel>DATA_FIELD_VALUE}" />
                            </suggestionItems>
                        </Input>     
                    </VBox>
                    <VBox width="20%" height="100%" renderType="Bare" class="filterBox" >
                        <Label text="{i18n>podSelection.label.coPrev}:" width="100%" textAlign="Left" vAlign="Middle" class="kpmgGDSmallLabel paddingLeft" />
                        <Input id="coInputId" placeholder="Enter CO Prev" showSuggestion="true" showValueHelp="false" suggestionItems="{FilterModel>/CO}"  class="GDInputField">
                            <suggestionItems>
                                <core:Item text="{FilterModel>DATA_FIELD_VALUE}" />
                            </suggestionItems>
                        </Input>    
                    </VBox>
                    <VBox width="20%" height="100%" renderType="Bare" class="lastFilterBox" >
                        <Label text="" width="100%" textAlign="Left" vAlign="Middle" class="kpmgGDSmallLabel paddingLeft" />
                        <HBox width="100%" renderType="Bare" class="buttonsFilterBox" >
                            <Button text="{i18n>podSelection.button.search}" icon="sap-icon://search" type="Emphasized" class="searchButton" press="onGoPress" />
                            <Button text="{i18n>podSelection.button.clearFilter}" icon="sap-icon://clear-all" type="Default" class="clearButton" press="onClearPress" />
                        </HBox>
                    </VBox>
                </HBox> 
                <VBox width="100%" height="88%" renderType="Bare">
                <!--Tabella - Viene reinderizzata correttamente solo se Ã¨ contenuta in un VBox (non HBox) e possiede come aggregation layoutData con growFactor=1!!! -->
                    <t:Table id="resultTable" busy="{PODSelectionModel>/BusyLoadingOpTable}"  rowSelectionChange="rowSelectionChange"  class="kpmgGDTable" rows="{PODSelectionModel>/SFCs}" selectionMode="Single" selectionBehavior="RowOnly" visibleRowCountMode="Auto" rowHeight="45px" >
                    <t:layoutData>
                        <FlexItemData growFactor="1" baseSize="0%"/>
                    </t:layoutData>
                        <t:columns> 
                            <t:Column sortProperty="project" filterProperty="project" width="8%">
                                <Label text="{i18n>podSelection.table.project}"  />
                                <t:template>
                                    <Text wrapping="false" text="{PODSelectionModel>project}"  />
                                </t:template>
                            </t:Column>
                            <t:Column sortProperty="sfc" filterProperty="sfc" width="18%">
                                <Label wrapping="false" text="{i18n>podSelection.table.sfc}"  />
                                <t:template>
                                    <Text wrapping="false" text="{PODSelectionModel>sfc}"  />
                                </t:template>
                            </t:Column>
                            <t:Column sortProperty="co" filterProperty="co" width="18%">
                                <Label wrapping="false" text="{i18n>podSelection.table.coPrev}"  />
                                <t:template>
                                    <Text wrapping="false" text="{PODSelectionModel>co}"  />
                                </t:template>
                            </t:Column>
                            <t:Column sortProperty="customer" filterProperty="customer" width="18%">
                                <Label wrapping="false" text="{i18n>podSelection.table.customer}"  />
                                <t:template>
                                    <Text wrapping="false" text="{PODSelectionModel>customer}"  />
                                </t:template>
                            </t:Column>
                            <t:Column sortProperty="status/code" width="5%"  hAlign="Center" >
                                <Label text="{i18n>podSelection.table.status}"  />
                                <t:template>
                                    <core:Icon src="{path: 'PODSelectionModel>status/code',formatter: '.getStatusIcon'}" color="{path: 'PODSelectionModel>status/code', formatter: '.getStatusColor' }" class="statusIcon" />
                                </t:template>
                            </t:Column>   
                        </t:columns>
                    </t:Table>
                </VBox>
            </VBox>
        </content>
    </Page>
</mvc:View>
